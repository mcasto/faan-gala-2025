<div class="text-2xl text-center my-8 md:text-6xl">
  <!-- Banner image with "Gala Gallery 2023" -->
  <div class="relative mb-8">
    <img
      src="storage/images/gallery-2023/gallery-banner.jpg"
      alt="Gala Gallery 2023"
      class="w-full h-48 object-cover rounded-lg md:w-1/2 md:mx-auto"
    />
    <div class="absolute inset-0 flex items-center justify-center">
      <h2
        class="playfair-font text-white font-bold text-3xl md:text-5xl text-center px-4"
      >
        Galer√≠a Gala 2023
      </h2>
    </div>
  </div>

  <!-- Toolbar with tabs -->
  <div class="bg-slate-800 rounded-lg p-4 mb-6 text-sm md:text-lg">
    <div class="flex flex-wrap justify-center gap-2 md:gap-4">
      <button
        onclick="showGallery('ambiance', this)"
        class="gallery-tab active bg-yellow-500 text-slate-800 px-4 py-2 rounded font-semibold hover:bg-yellow-600 transition"
      >
        Ambiente
      </button>
      <button
        onclick="showGallery('entertainers', this)"
        class="gallery-tab bg-slate-600 text-white px-4 py-2 rounded font-semibold hover:bg-slate-500 transition"
      >
        Artistas
      </button>
      <button
        onclick="showGallery('guests', this)"
        class="gallery-tab bg-slate-600 text-white px-4 py-2 rounded font-semibold hover:bg-slate-500 transition"
      >
        Invitados
      </button>
      <button
        onclick="showGallery('live-auction', this)"
        class="gallery-tab bg-slate-600 text-white px-4 py-2 rounded font-semibold hover:bg-slate-500 transition"
      >
        Subasta en vivo
      </button>
    </div>
  </div>

  <!-- Gallery Display Area -->
  <div id="galleryContainer" class="mb-6">
    <!-- Images will be loaded here -->
  </div>

  <!-- Pagination -->
  <div id="paginationContainer" class="flex justify-center items-center gap-4">
    <!-- Pagination controls will be loaded here -->
  </div>
</div>

<script>
  let currentGallery = "ambiance";
  let currentPage = 1;
  const imagesPerPage = 6;

  // Gallery data - populated with actual image filenames
  const galleryData = {
    ambiance: ["IMG_3984.jpg", "IMG_3985.jpg", "IMG_4001.jpg"],
    entertainers: [
      "IMG_3798.jpg",
      "IMG_3799.jpg",
      "IMG_3814.jpg",
      "IMG_3816.jpg",
      "IMG_3818.jpg",
      "IMG_3819.jpg",
      "IMG_3824.jpg",
      "IMG_3826.jpg",
      "IMG_3849.jpg",
      "IMG_3886.jpg",
      "IMG_3902.jpg",
      "IMG_3911.jpg",
      "IMG_3918.jpg",
      "IMG_3922.jpg",
      "IMG_3939.jpg",
      "IMG_3940.jpg",
      "IMG_3941.jpg",
      "IMG_3942.jpg",
      "IMG_3944.jpg",
      "IMG_3955.jpg",
      "IMG_3976.jpg",
      "IMG_3981.jpg",
      "IMG_3982.jpg",
      "IMG_3994.jpg",
      "IMG_4004.jpg",
    ],
    guests: [
      "IMG_3786.jpg",
      "IMG_3787.jpg",
      "IMG_3788.jpg",
      "IMG_3791.jpg",
      "IMG_3792.jpg",
      "IMG_3793.jpg",
      "IMG_3794.jpg",
      "IMG_3801.jpg",
      "IMG_3804.jpg",
      "IMG_3805.jpg",
      "IMG_3806.jpg",
      "IMG_3807.jpg",
      "IMG_3809.jpg",
      "IMG_3810.jpg",
      "IMG_3811.jpg",
      "IMG_3815.jpg",
      "IMG_3821.jpg",
      "IMG_3828.jpg",
      "IMG_3830.jpg",
      "IMG_3832.jpg",
      "IMG_3833.jpg",
      "IMG_3837.jpg",
      "IMG_3838.jpg",
      "IMG_3840.jpg",
      "IMG_3841.jpg",
      "IMG_3842.jpg",
      "IMG_3843.jpg",
      "IMG_3844.jpg",
      "IMG_3846.jpg",
      "IMG_3848.jpg",
      "IMG_3850.jpg",
      "IMG_3852.jpg",
      "IMG_3853.jpg",
      "IMG_3854.jpg",
      "IMG_3855.jpg",
      "IMG_3856.jpg",
      "IMG_3857.jpg",
      "IMG_3860.jpg",
      "IMG_3861.jpg",
      "IMG_3862.jpg",
      "IMG_3863.jpg",
      "IMG_3864.jpg",
      "IMG_3865.jpg",
      "IMG_3866.jpg",
      "IMG_3867.jpg",
      "IMG_3868.jpg",
      "IMG_3869.jpg",
      "IMG_3871.jpg",
      "IMG_3872.jpg",
      "IMG_3873.jpg",
      "IMG_3874.jpg",
      "IMG_3875.jpg",
      "IMG_3876.jpg",
      "IMG_3877.jpg",
      "IMG_3878.jpg",
      "IMG_3879.jpg",
      "IMG_3880.jpg",
      "IMG_3882.jpg",
      "IMG_3887.jpg",
      "IMG_3888.jpg",
      "IMG_3889.jpg",
      "IMG_3890.jpg",
      "IMG_3892.jpg",
      "IMG_3894.jpg",
      "IMG_3895.jpg",
      "IMG_3897.jpg",
      "IMG_3898.jpg",
      "IMG_3900.jpg",
      "IMG_3901.jpg",
      "IMG_3903.jpg",
      "IMG_3904.jpg",
      "IMG_3905.jpg",
      "IMG_3906.jpg",
      "IMG_3907.jpg",
      "IMG_3909.jpg",
      "IMG_3910.jpg",
      "IMG_3912.jpg",
      "IMG_3913.jpg",
      "IMG_3914.jpg",
      "IMG_3915.jpg",
      "IMG_3916.jpg",
      "IMG_3917.jpg",
      "IMG_3920.jpg",
      "IMG_3924.jpg",
      "IMG_3925.jpg",
      "IMG_3926.jpg",
      "IMG_3927.jpg",
      "IMG_3929.jpg",
      "IMG_3930.jpg",
      "IMG_3932.jpg",
      "IMG_3933.jpg",
      "IMG_3934.jpg",
      "IMG_3935.jpg",
      "IMG_3936.jpg",
      "IMG_3947.jpg",
      "IMG_3949.jpg",
      "IMG_3951.jpg",
      "IMG_3952.jpg",
      "IMG_3953.jpg",
      "IMG_3956.jpg",
      "IMG_3959.jpg",
      "IMG_3960.jpg",
      "IMG_3965.jpg",
      "IMG_3969.jpg",
      "IMG_3970.jpg",
      "IMG_3971.jpg",
      "IMG_3972.jpg",
      "IMG_3973.jpg",
      "IMG_3974.jpg",
      "IMG_3975.jpg",
      "IMG_3977.jpg",
      "IMG_3978.jpg",
      "IMG_3979.jpg",
      "IMG_3980.jpg",
      "IMG_3983.jpg",
      "IMG_3986.jpg",
      "IMG_3987.jpg",
      "IMG_3988.jpg",
      "IMG_3989.jpg",
      "IMG_3990.jpg",
      "IMG_3991.jpg",
      "IMG_3992.jpg",
      "IMG_3993.jpg",
      "IMG_3995.jpg",
      "IMG_3996.jpg",
      "IMG_3997.jpg",
      "IMG_3998.jpg",
      "IMG_3999.jpg",
      "IMG_4002.jpg",
      "IMG_4003.jpg",
      "IMG_4005.jpg",
      "IMG_4006.jpg",
    ],
    "live-auction": [
      "IMG_3961.jpg",
      "IMG_3962.jpg",
      "IMG_3964.jpg",
      "IMG_3966.jpg",
      "IMG_3967.jpg",
      "IMG_3968.jpg",
    ],
  };

  function showGallery(gallery, button) {
    currentGallery = gallery;
    currentPage = 1;

    // Update active tab
    document.querySelectorAll(".gallery-tab").forEach((tab) => {
      tab.classList.remove("active", "bg-yellow-500", "text-slate-800");
      tab.classList.add("bg-slate-600", "text-white");
    });
    button.classList.add("active", "bg-yellow-500", "text-slate-800");
    button.classList.remove("bg-slate-600", "text-white");

    loadGalleryPage();
  }

  function loadGalleryPage() {
    const images = galleryData[currentGallery];
    const startIndex = (currentPage - 1) * imagesPerPage;
    const endIndex = startIndex + imagesPerPage;
    const pageImages = images.slice(startIndex, endIndex);

    // Build gallery HTML
    let galleryHTML = '<div class="grid grid-cols-2 md:grid-cols-3 gap-4">';
    pageImages.forEach((image) => {
      galleryHTML += `
      <div class="relative group cursor-pointer" onclick="openLightbox('storage/images/gallery-2023/${currentGallery}/${image}')">
        <img src="storage/images/gallery-2023/${currentGallery}/${image}"
             alt="Gallery Image"
             class="w-full h-32 md:h-48 object-cover rounded-lg transition-transform group-hover:scale-105"
             style="object-position: center 25%;">
        <div class="absolute inset-0 bg-black rounded-lg flex items-center justify-center transition-opacity duration-300" style="opacity: 0;" onmouseenter="this.style.opacity='0.3'" onmouseleave="this.style.opacity='0'">
          <i class="fas fa-expand text-white text-2xl transition-opacity duration-300" style="opacity: 0;" onmouseenter="this.style.opacity='1'" onmouseleave="this.style.opacity='0'"></i>
        </div>
      </div>
    `;
    });
    galleryHTML += "</div>";

    document.getElementById("galleryContainer").innerHTML = galleryHTML;

    // Build pagination
    const totalPages = Math.ceil(images.length / imagesPerPage);
    let paginationHTML = "";

    if (totalPages > 1) {
      // Previous button
      if (currentPage > 1) {
        paginationHTML += `<button onclick="changePage(${
          currentPage - 1
        })" class="bg-slate-600 text-white px-3 py-2 rounded hover:bg-slate-500 transition">Previous</button>`;
      }

      // Page numbers
      for (let i = 1; i <= totalPages; i++) {
        const activeClass =
          i === currentPage
            ? "bg-yellow-500 text-slate-800"
            : "bg-slate-600 text-white hover:bg-slate-500";
        paginationHTML += `<button onclick="changePage(${i})" class="${activeClass} px-3 py-2 rounded transition">${i}</button>`;
      }

      // Next button
      if (currentPage < totalPages) {
        paginationHTML += `<button onclick="changePage(${
          currentPage + 1
        })" class="bg-slate-600 text-white px-3 py-2 rounded hover:bg-slate-500 transition">Next</button>`;
      }
    }

    document.getElementById("paginationContainer").innerHTML = paginationHTML;
  }

  function changePage(page) {
    currentPage = page;
    loadGalleryPage();
  }

  function openLightbox(imageSrc) {
    // Create lightbox overlay
    const lightbox = document.createElement("div");
    lightbox.className =
      "fixed inset-0 bg-black bg-opacity-90 flex items-center justify-center z-50";
    lightbox.onclick = () => document.body.removeChild(lightbox);

    const img = document.createElement("img");
    img.src = imageSrc;
    img.className = "max-w-full max-h-full object-contain";

    const closeBtn = document.createElement("button");
    closeBtn.innerHTML = '<i class="fas fa-times text-white text-3xl"></i>';
    closeBtn.className =
      "absolute top-4 right-4 text-white hover:text-gray-300";
    closeBtn.onclick = () => document.body.removeChild(lightbox);

    lightbox.appendChild(img);
    lightbox.appendChild(closeBtn);
    document.body.appendChild(lightbox);
  }

  // Initialize gallery on page load
  document.addEventListener("DOMContentLoaded", function () {
    showGallery("ambiance", document.querySelector(".gallery-tab.active"));
  });
</script>
